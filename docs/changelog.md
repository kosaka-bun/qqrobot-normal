# 更新日志

### v4.0.0
- 使用MyBatis Plus重构持久层，jpa现在仅用于建表。
- 将道具的匹配逻辑改为注解式。
- 实现道具“柠檬”的功能。
- 增加新道具“礼物”。

### v3.7.0
- 使用qqrobot-spring-boot-starter重构项目。

### v3.6.1
- 添加重发开关。

### v3.6.0
- 优化Web端页面部分内容。
- 在主页增加内存用量、数据库连接池连接数信息。

### v3.5.3
- 添加Web端自动登录功能。

### v3.5.2
- 更新登录界面。

### v3.5.1
- 优化控制台页面样式，实现彩色显示。

### v3.5.0
- 重构Web端页面，增加UUID认证，以及Web端管理接口。

### v3.4.3
- 移除固定框架，引入统一框架实现库，使用统一库进行通信。

### v3.4.2
- 升级机器人服务框架版本。

### v3.4.1
- 升级机器人服务框架版本。

### v3.4.0
- 更新了果实“柠檬”。
- 升级机器人服务框架版本。

### v3.3.0
- 更新为Spring Boot架构。

### v3.2.0
- 支持消息处理时的简繁转换，集成log4j输出运行日志到控制台。

### v3.1.0
- 重构了命令控制器逻辑，移除了Logics类，转由Command注解和CommandController实例来实现命令的部署。
- 当机器人被禁言时，不处理群消息，不发送群消息。
- 消息发送失败时，不抛出异常，以免触发将异常信息发送到开发群的逻辑。
- 集成AOP，将消息处理的前置与后置处理独立出来。

### v3.0.0
- 修复了一些已知的Bug。
- 将独立在机器人容器外的web页面集成到容器内。

## v3.0.0 Beta
- 重构项目，将项目改造为独立于信息收发服务框架的项目，建立服务框架标准模型，在实际使用的框架中实现此标准模型，项目内其他需要收发信息的地方均通过标准框架提供的方法来获取。
- 当前框架依赖设备信息，当设备信息不同时，需要提供验证码和设备验证，将会卡住Tomcat的加载。
- 移除了游戏、点歌功能。
- 现在的API由Tomcat提供原生Web服务。
- SQLite现在所用的文件架设在外部，自行配置jdbc连接地址。
- 已知问题：使用记录暂时没有进行记录。（已解决，将Tomcat的服务登录用户改为LOCAL SYSTEM即可）

## v2.3.3
- 对项目结构进行一些优化，准备迁移到其他框架。

## v2.3.2
- 修改了道具名的规则，代码操作和数据库存储中使用文字道具名，实际应用中使用emoji道具名。
- 优化了获取的道具列表的排序。
- 更新道具“放大镜”，用于查看他人道具数量。

## v2.3.1
- 添加了通知功能，可以由系统管理员修改或移除要显示在浇水成功信息之后的附加信息。

## v2.3.0
- 修复了一些小问题，增强系统的稳定性。
- 现在的jar包中将会包含源代码。
- “点歌、列表点歌”改称为“听音乐、音乐列表”，“听音乐”在第一次获取数据失败时将会重试一次。
- 控制台输出现在可以通过ajax获取并查看。

## v2.2.0
- 更新了粉色果实。
- 添加了监视数据源连接数的功能，用于排查数据库连接问题。
- 修复了因查询道具信息未关闭连接，而导致的运行一段时间之后连接耗尽而无法继续正常运行的问题。

## v2.1.0
- 修改了配置文件路径，转移到classpath*:Robot Files/properties文件夹中，这样可以将配置文件保存在外部。
- 修改了日志查询的分页方法，每次查询只获取指定页的信息，提高查询性能。
- 更新了紫色果实、白色果实、柚子。

## v2.0.0
- 修复了发送给开发者异常堆栈信息时，没有被限制行数的问题。
- 修改了道具功能的一些提示信息。

## v2.0.0 Beta
- 修改了一些提示语信息。
- 大版本迭代，重构几乎整个项目结构，添加SQLite作为日志信息的存储方式，去除之前的日志存储方式，Spring框架自动搜索Entity实体类，重构Logics类，拆分到Service层。删除user_property功能，删除默认JDBC连接。
- 更新了浇水功能，增加道具功能，可以对群内其他人使用道具影响浇水。
- 暂时关闭了游戏功能。

## v1.9.0
- 集成Hibernate，项目转为maven项目，依赖库存放在jar包中。
- 关闭了默认开启的巡山开关，加入了双击jar包测试的功能。

## v1.8.0
- 加入了保存当前使用记录到本地文件的功能。

## v1.7.0
- 初始版本，包含浇水、随机数、抛硬币、等级查询、等级排名、用户属性、设置用户属性、巡山开关、点歌、列表点歌、百科、斗地主等功能。
